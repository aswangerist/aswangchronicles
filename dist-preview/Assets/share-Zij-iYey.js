class e{constructor(){this.gameTitle="Aswang Chronicles - Interactive Filipino Folklore Experience",this.gameDescription="Immerse yourself in Filipino folklore through an interactive narrative game. Make choices that influence the story and discover the rich cultural heritage of the Philippines.",this.gameUrl=window.location.origin+"/game",this.gameImage=window.location.origin+"/Assets/WebsiteAssets/Logos/Horizontal.png",this.initGlobalFunctions()}initGlobalFunctions(){window.shareOnFacebook=()=>this.shareOnFacebook(),window.shareOnTwitter=()=>this.shareOnTwitter(),window.shareOnWhatsApp=()=>this.shareOnWhatsApp(),window.shareOnLinkedIn=()=>this.shareOnLinkedIn(),window.shareOnReddit=()=>this.shareOnReddit(),window.copyGameLink=()=>this.copyGameLink()}shareOnFacebook(){const e=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(this.gameUrl)}&quote=${encodeURIComponent(this.gameTitle+" - "+this.gameDescription)}`;this.openShareWindow(e,"Facebook"),this.trackShare("facebook")}shareOnTwitter(){const e=`üßõ‚Äç‚ôÄÔ∏è Just discovered ${this.gameTitle}! An amazing interactive journey through Filipino folklore. Check it out! #AswangChronicles #FilipinoFolklore #InteractiveStory`,t=`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}&url=${encodeURIComponent(this.gameUrl)}`;this.openShareWindow(t,"Twitter"),this.trackShare("twitter")}shareOnWhatsApp(){const e=`üßõ‚Äç‚ôÄÔ∏è Check out Aswang Chronicles - an interactive Filipino folklore experience! ${this.gameDescription} Play now: ${this.gameUrl}`,t=`https://wa.me/?text=${encodeURIComponent(e)}`;this.openShareWindow(t,"WhatsApp"),this.trackShare("whatsapp")}shareOnLinkedIn(){const e=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(this.gameUrl)}&title=${encodeURIComponent(this.gameTitle)}&summary=${encodeURIComponent(this.gameDescription)}`;this.openShareWindow(e,"LinkedIn"),this.trackShare("linkedin")}shareOnReddit(){const e=`https://reddit.com/submit?url=${encodeURIComponent(this.gameUrl)}&title=${encodeURIComponent(this.gameTitle)}&text=${encodeURIComponent(this.gameDescription)}`;this.openShareWindow(e,"Reddit"),this.trackShare("reddit")}async copyGameLink(){const e=document.querySelector(".share-btn.copy-link"),t=e.innerHTML;try{navigator.clipboard&&window.isSecureContext?await navigator.clipboard.writeText(this.gameUrl):this.fallbackCopyToClipboard(this.gameUrl),e.innerHTML='<i class="fas fa-check"></i><span>Copied!</span>',e.classList.add("copied"),this.showNotification("Link copied to clipboard! Share it with your friends.","success"),setTimeout(()=>{e.innerHTML=t,e.classList.remove("copied")},2e3),this.trackShare("copy-link")}catch(n){this.showNotification("Failed to copy link. Please copy manually: "+this.gameUrl,"error")}}fallbackCopyToClipboard(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(n){throw new Error("Fallback copy failed")}finally{document.body.removeChild(t)}}openShareWindow(e,t){const n=`\n      width=600,\n      height=400,\n      left=${(window.innerWidth-600)/2},\n      top=${(window.innerHeight-400)/2},\n      toolbar=no,\n      menubar=no,\n      scrollbars=yes,\n      resizable=yes,\n      status=no\n    `.replace(/\s/g,""),i=window.open(e,`share-${t.toLowerCase()}`,n);i&&i.focus()}trackShare(e){try{const t=JSON.parse(localStorage.getItem("aswang-share-stats")||"{}");t[e]=(t[e]||0)+1,t.total=(t.total||0)+1,t.lastShared=(new Date).toISOString(),localStorage.setItem("aswang-share-stats",JSON.stringify(t))}catch(t){}}showNotification(e,t="info"){const n=document.querySelector(".share-notification");n&&n.remove();const i=document.createElement("div");i.className="share-notification",i.innerHTML=`\n      <div style="\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: ${"success"===t?"var(--dark-green)":"var(--red)"};\n        color: white;\n        padding: 1rem 1.5rem;\n        border-radius: 10px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n        z-index: 10000;\n        font-family: var(--font-body);\n        max-width: 300px;\n        animation: slideInShare 0.3s ease;\n        border: 2px solid ${"success"===t?"var(--yellow)":"white"};\n      ">\n        <i class="fas fa-${"success"===t?"share-alt":"exclamation-triangle"} me-2"></i>\n        ${e}\n      </div>\n    `,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&(i.style.animation="slideOutShare 0.3s ease",setTimeout(()=>i.remove(),300))},4e3)}getShareStats(){try{return JSON.parse(localStorage.getItem("aswang-share-stats")||"{}")}catch(e){return{}}}isWebShareSupported(){return void 0!==navigator.share}async nativeShare(){if(this.isWebShareSupported())try{return await navigator.share({title:this.gameTitle,text:this.gameDescription,url:this.gameUrl}),this.trackShare("native-share"),!0}catch(e){return!1}return!1}}const t=document.createElement("style");t.textContent="\n  @keyframes slideInShare {\n    from {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n  \n  @keyframes slideOutShare {\n    from {\n      transform: translateX(0);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(100%);\n      opacity: 0;\n    }\n  }\n",document.head.appendChild(t);export{e as ShareSystem};
