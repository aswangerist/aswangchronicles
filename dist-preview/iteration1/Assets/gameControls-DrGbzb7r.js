function e(){"/game"===window.location.pathname&&(setTimeout(()=>{t(),o()},100),setTimeout(()=>{document.getElementById("backgroundToggle")||t(),o()},500))}function t(){const e=document.getElementById("backgroundToggle"),t=document.body;if(!e)return void window.location.pathname;"true"===localStorage.getItem("aswang-dark-gaming-mode")&&(e.checked=!0,t.classList.add("dark-gaming-mode")),e.addEventListener("change",function(){this.checked?(t.classList.add("dark-gaming-mode"),localStorage.setItem("aswang-dark-gaming-mode","true"),t.style.transition="background-color 0.5s ease",n("Dark mode enabled for better gaming experience")):(t.classList.remove("dark-gaming-mode"),localStorage.setItem("aswang-dark-gaming-mode","false"),t.style.transition="background-color 0.5s ease",n("Dark mode disabled"))})}function n(e){const t=document.createElement("div");t.className="toggle-notification",t.textContent=e,t.style.cssText="position: fixed; top: 20px; right: 20px; background: rgba(0, 0, 0, 0.8); color: white; padding: 12px 20px; border-radius: 8px; font-size: 0.9rem; z-index: 10000; opacity: 0; transform: translateY(-20px); transition: all 0.3s ease; border-left: 4px solid #bd0300;",document.body.appendChild(t),setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},100),setTimeout(()=>{t.style.opacity="0",t.style.transform="translateY(-20px)",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)},3e3)}function o(){window.enterGameFullscreen=l,window.exitGameFullscreen=c,document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s);const e=document.querySelector(".game-embed-container");e&&(e.addEventListener("dblclick",e=>{e.preventDefault(),l()}),e.title="Double-click to enter fullscreen mode")}function l(){const e=document.querySelector(".game-embed-container"),t=document.querySelector(".game-embed-iframe");if(!e||!t)return void n("Could not enter fullscreen mode");const o=e;if(o.requestFullscreen)o.requestFullscreen();else if(o.webkitRequestFullscreen)o.webkitRequestFullscreen();else if(o.mozRequestFullScreen)o.mozRequestFullScreen();else{if(!o.msRequestFullscreen){const e=t.src;return window.open(e,"_blank","width=1080,height=800,scrollbars=no,resizable=yes"),void n("Opened game in new window")}o.msRequestFullscreen()}n("Entering fullscreen mode...")}function c(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}function s(){const e=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement),t=document.querySelector(".game-embed-container");t&&(e?(t.classList.add("game-fullscreen-mode"),n("Press ESC to exit fullscreen")):(t.classList.remove("game-fullscreen-mode"),n("Exited fullscreen mode")))}export{e as initGameControls};
